{"ast":null,"code":"import React,{useState,useEffect}from'react';import{getCollectedProducts,batchTaobaoMatch,downloadHeySeller,generateSEO}from'../utils/api';import LoadingSpinner from'./LoadingSpinner';import'../styles/CollectedProducts.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function CollectedProducts(){const[products,setProducts]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[selectedProducts,setSelectedProducts]=useState([]);const[view,setView]=useState('grid');const[filter,setFilter]=useState('all');const[sort,setSort]=useState('date');useEffect(()=>{fetchCollectedProducts();},[]);const fetchCollectedProducts=async()=>{try{setLoading(true);setError(null);const result=await getCollectedProducts();if(!result||!result.products){throw new Error('상품 데이터를 불러올 수 없습니다.');}// 상품 데이터 정규화\nconst normalizedProducts=result.products.map(product=>({...product,id:product.id||product._id,title:product.title||product.product_title,image_url:product.image_url||product.imageUrl,price:typeof product.price==='string'?parseInt(product.price.replace(/[^0-9]/g,'')):product.price,review_count:parseInt(product.review_count||0),purchase_count:parseInt(product.purchase_count||0)}));setProducts(normalizedProducts);}catch(error){console.error('수집된 상품 조회 실패:',error);setError(error.message);}finally{setLoading(false);}};const handleTaobaoMatch=async()=>{if(selectedProducts.length===0){alert('매칭할 상품을 선택해주세요.');return;}try{setLoading(true);const result=await batchTaobaoMatch(selectedProducts);if(result&&result.matched_products){// 기존 상품 목록 업데이트\nsetProducts(prevProducts=>{const updatedProducts=[...prevProducts];result.matched_products.forEach(matchedProduct=>{const index=updatedProducts.findIndex(p=>p.id===matchedProduct.id);if(index!==-1){updatedProducts[index]={...updatedProducts[index],...matchedProduct};}});return updatedProducts;});alert('타오바오 매칭이 완료되었습니다.');}}catch(error){var _error$response,_error$response$data;console.error('타오바오 매칭 실패:',error);alert(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'타오바오 매칭 중 오류가 발생했습니다.');}finally{setLoading(false);}};const handleHeySellerDownload=async()=>{if(selectedProducts.length===0){alert('다운로드할 상품을 선택해주세요.');return;}try{setLoading(true);const response=await downloadHeySeller(selectedProducts);// Blob 객체 생성\nconst blob=new Blob([response],{type:'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet'});// 다운로드 링크 생성\nconst url=window.URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=`heyseller_${new Date().toISOString().split('T')[0]}.xlsx`;document.body.appendChild(a);a.click();// 정리\nwindow.URL.revokeObjectURL(url);document.body.removeChild(a);alert('헤이셀러 파일이 다운로드되었습니다.');}catch(error){console.error('헤이셀러 다운로드 실패:',error);alert('헤이셀러 다운로드 중 오류가 발생했습니다.');}finally{setLoading(false);}};const handleProductSelect=productId=>{setSelectedProducts(prev=>{if(prev.includes(productId)){return prev.filter(id=>id!==productId);}return[...prev,productId];});};const filteredProducts=products.filter(product=>{if(filter==='matched')return product.taobaoMatch;if(filter==='unmatched')return!product.taobaoMatch;return true;}).sort((a,b)=>{switch(sort){case'price':return b.price-a.price;case'name':return a.title.localeCompare(b.title);default:return new Date(b.collection_date)-new Date(a.collection_date);}});const handleGenerateSEO=async productId=>{try{setLoading(true);const result=await generateSEO(productId);if(result&&result.seo_title){setProducts(prevProducts=>{const updatedProducts=[...prevProducts];const index=updatedProducts.findIndex(p=>p.id===productId);if(index!==-1){updatedProducts[index]={...updatedProducts[index],seo_title:result.seo_title};}return updatedProducts;});alert('SEO가 성공적으로 생성되었습니다.');}}catch(error){var _error$response2,_error$response2$data;console.error('SEO 생성 실패:',error);alert(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||'SEO 생성 중 오류가 발생했습니다.');}finally{setLoading(false);}};if(loading)return/*#__PURE__*/_jsx(LoadingSpinner,{message:\"\\uC0C1\\uD488 \\uC815\\uBCF4\\uB97C \\uBD88\\uB7EC\\uC624\\uB294 \\uC911...\"});if(error)return/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:error});return/*#__PURE__*/_jsxs(\"div\",{className:\"collected-products-container\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"\\uC218\\uC9D1\\uB41C \\uC0C1\\uD488 (\",products.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"controls-bar\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"action-controls\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"primary-btn\",onClick:handleTaobaoMatch,disabled:selectedProducts.length===0,children:\"\\uD0C0\\uC624\\uBC14\\uC624 \\uB9E4\\uCE6D\"}),/*#__PURE__*/_jsx(\"button\",{className:\"secondary-btn\",onClick:handleHeySellerDownload,disabled:selectedProducts.length===0,children:\"\\uD5E4\\uC774\\uC140\\uB7EC \\uB2E4\\uC6B4\\uB85C\\uB4DC\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"products-table-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"products-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",onChange:e=>{if(e.target.checked){setSelectedProducts(products.map(p=>p.id));}else{setSelectedProducts([]);}},checked:selectedProducts.length===products.length})}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC774\\uBBF8\\uC9C0\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC0C1\\uD488\\uBA85\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uAC00\\uACA9\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uB9C8\\uCF13\\uBA85\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uB9AC\\uBDF0\\uC218\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uAD6C\\uB9E4\\uC218\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC218\\uC9D1\\uC77C\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uD0C0\\uC624\\uBC14\\uC624 \\uB9E4\\uCE6D\"}),/*#__PURE__*/_jsx(\"th\",{children:\"SEO\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\uC561\\uC158\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products.map(product=>{var _product$price,_product$review_count,_product$purchase_cou;return/*#__PURE__*/_jsxs(\"tr\",{className:selectedProducts.includes(product.id)?'selected':'',children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedProducts.includes(product.id),onChange:()=>handleProductSelect(product.id)})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:product.image_url,alt:product.title,className:\"product-thumbnail\"})}),/*#__PURE__*/_jsx(\"td\",{children:product.title}),/*#__PURE__*/_jsxs(\"td\",{children:[(_product$price=product.price)===null||_product$price===void 0?void 0:_product$price.toLocaleString(),\"\\uC6D0\"]}),/*#__PURE__*/_jsx(\"td\",{children:product.mall_name}),/*#__PURE__*/_jsx(\"td\",{children:(_product$review_count=product.review_count)===null||_product$review_count===void 0?void 0:_product$review_count.toLocaleString()}),/*#__PURE__*/_jsx(\"td\",{children:(_product$purchase_cou=product.purchase_count)===null||_product$purchase_cou===void 0?void 0:_product$purchase_cou.toLocaleString()}),/*#__PURE__*/_jsx(\"td\",{children:new Date(product.collection_date).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{children:product.taobaoMatch?/*#__PURE__*/_jsx(\"span\",{className:\"matched\",children:\"\\uB9E4\\uCE6D\\uC644\\uB8CC\"}):/*#__PURE__*/_jsx(\"span\",{className:\"unmatched\",children:\"\\uBBF8\\uB9E4\\uCE6D\"})}),/*#__PURE__*/_jsx(\"td\",{children:product.seo_title?/*#__PURE__*/_jsx(\"span\",{className:\"seo-done\",children:\"\\uC644\\uB8CC\"}):/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleGenerateSEO(product.id),className:\"seo-button\",children:\"SEO\\uC0DD\\uC131\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{href:product.product_url,target:\"_blank\",rel:\"noopener noreferrer\",className:\"view-button\",children:\"\\uBCF4\\uAE30\"})})]},product.id);})})]})})]});}export default CollectedProducts;","map":{"version":3,"names":["React","useState","useEffect","getCollectedProducts","batchTaobaoMatch","downloadHeySeller","generateSEO","LoadingSpinner","jsx","_jsx","jsxs","_jsxs","CollectedProducts","products","setProducts","loading","setLoading","error","setError","selectedProducts","setSelectedProducts","view","setView","filter","setFilter","sort","setSort","fetchCollectedProducts","result","Error","normalizedProducts","map","product","id","_id","title","product_title","image_url","imageUrl","price","parseInt","replace","review_count","purchase_count","console","message","handleTaobaoMatch","length","alert","matched_products","prevProducts","updatedProducts","forEach","matchedProduct","index","findIndex","p","_error$response","_error$response$data","response","data","handleHeySellerDownload","blob","Blob","type","url","window","URL","createObjectURL","a","document","createElement","href","download","Date","toISOString","split","body","appendChild","click","revokeObjectURL","removeChild","handleProductSelect","productId","prev","includes","filteredProducts","taobaoMatch","b","localeCompare","collection_date","handleGenerateSEO","seo_title","_error$response2","_error$response2$data","className","children","onClick","disabled","onChange","e","target","checked","_product$price","_product$review_count","_product$purchase_cou","src","alt","toLocaleString","mall_name","toLocaleDateString","product_url","rel"],"sources":["C:/자동ai/front/my-app/src/components/CollectedProducts.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { getCollectedProducts, batchTaobaoMatch, downloadHeySeller, generateSEO } from '../utils/api';\nimport LoadingSpinner from './LoadingSpinner';\nimport '../styles/CollectedProducts.css';\n\nfunction CollectedProducts() {\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedProducts, setSelectedProducts] = useState([]);\n  const [view, setView] = useState('grid');\n  const [filter, setFilter] = useState('all');\n  const [sort, setSort] = useState('date');\n\n  useEffect(() => {\n    fetchCollectedProducts();\n  }, []);\n\n  const fetchCollectedProducts = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      \n      const result = await getCollectedProducts();\n      \n      if (!result || !result.products) {\n        throw new Error('상품 데이터를 불러올 수 없습니다.');\n      }\n\n      // 상품 데이터 정규화\n      const normalizedProducts = result.products.map(product => ({\n        ...product,\n        id: product.id || product._id,\n        title: product.title || product.product_title,\n        image_url: product.image_url || product.imageUrl,\n        price: typeof product.price === 'string' ? parseInt(product.price.replace(/[^0-9]/g, '')) : product.price,\n        review_count: parseInt(product.review_count || 0),\n        purchase_count: parseInt(product.purchase_count || 0),\n      }));\n\n      setProducts(normalizedProducts);\n      \n    } catch (error) {\n      console.error('수집된 상품 조회 실패:', error);\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleTaobaoMatch = async () => {\n    if (selectedProducts.length === 0) {\n      alert('매칭할 상품을 선택해주세요.');\n      return;\n    }\n\n    try {\n      setLoading(true);\n      const result = await batchTaobaoMatch(selectedProducts);\n      \n      if (result && result.matched_products) {\n        // 기존 상품 목록 업데이트\n        setProducts(prevProducts => {\n          const updatedProducts = [...prevProducts];\n          result.matched_products.forEach(matchedProduct => {\n            const index = updatedProducts.findIndex(p => p.id === matchedProduct.id);\n            if (index !== -1) {\n              updatedProducts[index] = {\n                ...updatedProducts[index],\n                ...matchedProduct\n              };\n            }\n          });\n          return updatedProducts;\n        });\n        \n        alert('타오바오 매칭이 완료되었습니다.');\n      }\n    } catch (error) {\n      console.error('타오바오 매칭 실패:', error);\n      alert(error.response?.data?.error || '타오바오 매칭 중 오류가 발생했습니다.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleHeySellerDownload = async () => {\n    if (selectedProducts.length === 0) {\n      alert('다운로드할 상품을 선택해주세요.');\n      return;\n    }\n\n    try {\n      setLoading(true);\n      const response = await downloadHeySeller(selectedProducts);\n      \n      // Blob 객체 생성\n      const blob = new Blob([response], { \n        type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' \n      });\n      \n      // 다운로드 링크 생성\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `heyseller_${new Date().toISOString().split('T')[0]}.xlsx`;\n      document.body.appendChild(a);\n      a.click();\n      \n      // 정리\n      window.URL.revokeObjectURL(url);\n      document.body.removeChild(a);\n      \n      alert('헤이셀러 파일이 다운로드되었습니다.');\n    } catch (error) {\n      console.error('헤이셀러 다운로드 실패:', error);\n      alert('헤이셀러 다운로드 중 오류가 발생했습니다.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleProductSelect = (productId) => {\n    setSelectedProducts(prev => {\n      if (prev.includes(productId)) {\n        return prev.filter(id => id !== productId);\n      }\n      return [...prev, productId];\n    });\n  };\n\n  const filteredProducts = products\n    .filter(product => {\n      if (filter === 'matched') return product.taobaoMatch;\n      if (filter === 'unmatched') return !product.taobaoMatch;\n      return true;\n    })\n    .sort((a, b) => {\n      switch (sort) {\n        case 'price':\n          return b.price - a.price;\n        case 'name':\n          return a.title.localeCompare(b.title);\n        default:\n          return new Date(b.collection_date) - new Date(a.collection_date);\n      }\n    });\n\n  const handleGenerateSEO = async (productId) => {\n    try {\n      setLoading(true);\n      const result = await generateSEO(productId);\n      \n      if (result && result.seo_title) {\n        setProducts(prevProducts => {\n          const updatedProducts = [...prevProducts];\n          const index = updatedProducts.findIndex(p => p.id === productId);\n          if (index !== -1) {\n            updatedProducts[index] = {\n              ...updatedProducts[index],\n              seo_title: result.seo_title\n            };\n          }\n          return updatedProducts;\n        });\n        \n        alert('SEO가 성공적으로 생성되었습니다.');\n      }\n    } catch (error) {\n      console.error('SEO 생성 실패:', error);\n      alert(error.response?.data?.error || 'SEO 생성 중 오류가 발생했습니다.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) return <LoadingSpinner message=\"상품 정보를 불러오는 중...\" />;\n  if (error) return <div className=\"error-message\">{error}</div>;\n\n  return (\n    <div className=\"collected-products-container\">\n      <h2>수집된 상품 ({products.length})</h2>\n      \n      <div className=\"controls-bar\">\n        <div className=\"action-controls\">\n          <button \n            className=\"primary-btn\"\n            onClick={handleTaobaoMatch}\n            disabled={selectedProducts.length === 0}\n          >\n            타오바오 매칭\n          </button>\n          <button \n            className=\"secondary-btn\"\n            onClick={handleHeySellerDownload}\n            disabled={selectedProducts.length === 0}\n          >\n            헤이셀러 다운로드\n          </button>\n        </div>\n      </div>\n\n      <div className=\"products-table-container\">\n        <table className=\"products-table\">\n          <thead>\n            <tr>\n              <th><input \n                type=\"checkbox\" \n                onChange={(e) => {\n                  if (e.target.checked) {\n                    setSelectedProducts(products.map(p => p.id));\n                  } else {\n                    setSelectedProducts([]);\n                  }\n                }}\n                checked={selectedProducts.length === products.length}\n              /></th>\n              <th>이미지</th>\n              <th>상품명</th>\n              <th>가격</th>\n              <th>마켓명</th>\n              <th>리뷰수</th>\n              <th>구매수</th>\n              <th>수집일</th>\n              <th>타오바오 매칭</th>\n              <th>SEO</th>\n              <th>액션</th>\n            </tr>\n          </thead>\n          <tbody>\n            {products.map(product => (\n              <tr key={product.id} className={selectedProducts.includes(product.id) ? 'selected' : ''}>\n                <td>\n                  <input\n                    type=\"checkbox\"\n                    checked={selectedProducts.includes(product.id)}\n                    onChange={() => handleProductSelect(product.id)}\n                  />\n                </td>\n                <td>\n                  <img \n                    src={product.image_url} \n                    alt={product.title} \n                    className=\"product-thumbnail\"\n                  />\n                </td>\n                <td>{product.title}</td>\n                <td>{product.price?.toLocaleString()}원</td>\n                <td>{product.mall_name}</td>\n                <td>{product.review_count?.toLocaleString()}</td>\n                <td>{product.purchase_count?.toLocaleString()}</td>\n                <td>{new Date(product.collection_date).toLocaleDateString()}</td>\n                <td>\n                  {product.taobaoMatch ? (\n                    <span className=\"matched\">매칭완료</span>\n                  ) : (\n                    <span className=\"unmatched\">미매칭</span>\n                  )}\n                </td>\n                <td>\n                  {product.seo_title ? (\n                    <span className=\"seo-done\">완료</span>\n                  ) : (\n                    <button \n                      onClick={() => handleGenerateSEO(product.id)}\n                      className=\"seo-button\"\n                    >\n                      SEO생성\n                    </button>\n                  )}\n                </td>\n                <td>\n                  <a \n                    href={product.product_url} \n                    target=\"_blank\" \n                    rel=\"noopener noreferrer\"\n                    className=\"view-button\"\n                  >\n                    보기\n                  </a>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  );\n}\n\nexport default CollectedProducts;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,oBAAoB,CAAEC,gBAAgB,CAAEC,iBAAiB,CAAEC,WAAW,KAAQ,cAAc,CACrG,MAAO,CAAAC,cAAc,KAAM,kBAAkB,CAC7C,MAAO,iCAAiC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzC,QAAS,CAAAC,iBAAiBA,CAAA,CAAG,CAC3B,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACc,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACgB,KAAK,CAAEC,QAAQ,CAAC,CAAGjB,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACkB,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGnB,QAAQ,CAAC,EAAE,CAAC,CAC5D,KAAM,CAACoB,IAAI,CAAEC,OAAO,CAAC,CAAGrB,QAAQ,CAAC,MAAM,CAAC,CACxC,KAAM,CAACsB,MAAM,CAAEC,SAAS,CAAC,CAAGvB,QAAQ,CAAC,KAAK,CAAC,CAC3C,KAAM,CAACwB,IAAI,CAAEC,OAAO,CAAC,CAAGzB,QAAQ,CAAC,MAAM,CAAC,CAExCC,SAAS,CAAC,IAAM,CACdyB,sBAAsB,CAAC,CAAC,CAC1B,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,sBAAsB,CAAG,KAAAA,CAAA,GAAY,CACzC,GAAI,CACFX,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,IAAI,CAAC,CAEd,KAAM,CAAAU,MAAM,CAAG,KAAM,CAAAzB,oBAAoB,CAAC,CAAC,CAE3C,GAAI,CAACyB,MAAM,EAAI,CAACA,MAAM,CAACf,QAAQ,CAAE,CAC/B,KAAM,IAAI,CAAAgB,KAAK,CAAC,qBAAqB,CAAC,CACxC,CAEA;AACA,KAAM,CAAAC,kBAAkB,CAAGF,MAAM,CAACf,QAAQ,CAACkB,GAAG,CAACC,OAAO,GAAK,CACzD,GAAGA,OAAO,CACVC,EAAE,CAAED,OAAO,CAACC,EAAE,EAAID,OAAO,CAACE,GAAG,CAC7BC,KAAK,CAAEH,OAAO,CAACG,KAAK,EAAIH,OAAO,CAACI,aAAa,CAC7CC,SAAS,CAAEL,OAAO,CAACK,SAAS,EAAIL,OAAO,CAACM,QAAQ,CAChDC,KAAK,CAAE,MAAO,CAAAP,OAAO,CAACO,KAAK,GAAK,QAAQ,CAAGC,QAAQ,CAACR,OAAO,CAACO,KAAK,CAACE,OAAO,CAAC,SAAS,CAAE,EAAE,CAAC,CAAC,CAAGT,OAAO,CAACO,KAAK,CACzGG,YAAY,CAAEF,QAAQ,CAACR,OAAO,CAACU,YAAY,EAAI,CAAC,CAAC,CACjDC,cAAc,CAAEH,QAAQ,CAACR,OAAO,CAACW,cAAc,EAAI,CAAC,CACtD,CAAC,CAAC,CAAC,CAEH7B,WAAW,CAACgB,kBAAkB,CAAC,CAEjC,CAAE,MAAOb,KAAK,CAAE,CACd2B,OAAO,CAAC3B,KAAK,CAAC,eAAe,CAAEA,KAAK,CAAC,CACrCC,QAAQ,CAACD,KAAK,CAAC4B,OAAO,CAAC,CACzB,CAAC,OAAS,CACR7B,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAA8B,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CACpC,GAAI3B,gBAAgB,CAAC4B,MAAM,GAAK,CAAC,CAAE,CACjCC,KAAK,CAAC,iBAAiB,CAAC,CACxB,OACF,CAEA,GAAI,CACFhC,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAY,MAAM,CAAG,KAAM,CAAAxB,gBAAgB,CAACe,gBAAgB,CAAC,CAEvD,GAAIS,MAAM,EAAIA,MAAM,CAACqB,gBAAgB,CAAE,CACrC;AACAnC,WAAW,CAACoC,YAAY,EAAI,CAC1B,KAAM,CAAAC,eAAe,CAAG,CAAC,GAAGD,YAAY,CAAC,CACzCtB,MAAM,CAACqB,gBAAgB,CAACG,OAAO,CAACC,cAAc,EAAI,CAChD,KAAM,CAAAC,KAAK,CAAGH,eAAe,CAACI,SAAS,CAACC,CAAC,EAAIA,CAAC,CAACvB,EAAE,GAAKoB,cAAc,CAACpB,EAAE,CAAC,CACxE,GAAIqB,KAAK,GAAK,CAAC,CAAC,CAAE,CAChBH,eAAe,CAACG,KAAK,CAAC,CAAG,CACvB,GAAGH,eAAe,CAACG,KAAK,CAAC,CACzB,GAAGD,cACL,CAAC,CACH,CACF,CAAC,CAAC,CACF,MAAO,CAAAF,eAAe,CACxB,CAAC,CAAC,CAEFH,KAAK,CAAC,mBAAmB,CAAC,CAC5B,CACF,CAAE,MAAO/B,KAAK,CAAE,KAAAwC,eAAA,CAAAC,oBAAA,CACdd,OAAO,CAAC3B,KAAK,CAAC,aAAa,CAAEA,KAAK,CAAC,CACnC+B,KAAK,CAAC,EAAAS,eAAA,CAAAxC,KAAK,CAAC0C,QAAQ,UAAAF,eAAA,kBAAAC,oBAAA,CAAdD,eAAA,CAAgBG,IAAI,UAAAF,oBAAA,iBAApBA,oBAAA,CAAsBzC,KAAK,GAAI,uBAAuB,CAAC,CAC/D,CAAC,OAAS,CACRD,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAA6C,uBAAuB,CAAG,KAAAA,CAAA,GAAY,CAC1C,GAAI1C,gBAAgB,CAAC4B,MAAM,GAAK,CAAC,CAAE,CACjCC,KAAK,CAAC,mBAAmB,CAAC,CAC1B,OACF,CAEA,GAAI,CACFhC,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAA2C,QAAQ,CAAG,KAAM,CAAAtD,iBAAiB,CAACc,gBAAgB,CAAC,CAE1D;AACA,KAAM,CAAA2C,IAAI,CAAG,GAAI,CAAAC,IAAI,CAAC,CAACJ,QAAQ,CAAC,CAAE,CAChCK,IAAI,CAAE,mEACR,CAAC,CAAC,CAEF;AACA,KAAM,CAAAC,GAAG,CAAGC,MAAM,CAACC,GAAG,CAACC,eAAe,CAACN,IAAI,CAAC,CAC5C,KAAM,CAAAO,CAAC,CAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC,CACrCF,CAAC,CAACG,IAAI,CAAGP,GAAG,CACZI,CAAC,CAACI,QAAQ,CAAG,aAAa,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,OAAO,CACvEN,QAAQ,CAACO,IAAI,CAACC,WAAW,CAACT,CAAC,CAAC,CAC5BA,CAAC,CAACU,KAAK,CAAC,CAAC,CAET;AACAb,MAAM,CAACC,GAAG,CAACa,eAAe,CAACf,GAAG,CAAC,CAC/BK,QAAQ,CAACO,IAAI,CAACI,WAAW,CAACZ,CAAC,CAAC,CAE5BrB,KAAK,CAAC,qBAAqB,CAAC,CAC9B,CAAE,MAAO/B,KAAK,CAAE,CACd2B,OAAO,CAAC3B,KAAK,CAAC,eAAe,CAAEA,KAAK,CAAC,CACrC+B,KAAK,CAAC,yBAAyB,CAAC,CAClC,CAAC,OAAS,CACRhC,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAkE,mBAAmB,CAAIC,SAAS,EAAK,CACzC/D,mBAAmB,CAACgE,IAAI,EAAI,CAC1B,GAAIA,IAAI,CAACC,QAAQ,CAACF,SAAS,CAAC,CAAE,CAC5B,MAAO,CAAAC,IAAI,CAAC7D,MAAM,CAACU,EAAE,EAAIA,EAAE,GAAKkD,SAAS,CAAC,CAC5C,CACA,MAAO,CAAC,GAAGC,IAAI,CAAED,SAAS,CAAC,CAC7B,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAG,gBAAgB,CAAGzE,QAAQ,CAC9BU,MAAM,CAACS,OAAO,EAAI,CACjB,GAAIT,MAAM,GAAK,SAAS,CAAE,MAAO,CAAAS,OAAO,CAACuD,WAAW,CACpD,GAAIhE,MAAM,GAAK,WAAW,CAAE,MAAO,CAACS,OAAO,CAACuD,WAAW,CACvD,MAAO,KAAI,CACb,CAAC,CAAC,CACD9D,IAAI,CAAC,CAAC4C,CAAC,CAAEmB,CAAC,GAAK,CACd,OAAQ/D,IAAI,EACV,IAAK,OAAO,CACV,MAAO,CAAA+D,CAAC,CAACjD,KAAK,CAAG8B,CAAC,CAAC9B,KAAK,CAC1B,IAAK,MAAM,CACT,MAAO,CAAA8B,CAAC,CAAClC,KAAK,CAACsD,aAAa,CAACD,CAAC,CAACrD,KAAK,CAAC,CACvC,QACE,MAAO,IAAI,CAAAuC,IAAI,CAACc,CAAC,CAACE,eAAe,CAAC,CAAG,GAAI,CAAAhB,IAAI,CAACL,CAAC,CAACqB,eAAe,CAAC,CACpE,CACF,CAAC,CAAC,CAEJ,KAAM,CAAAC,iBAAiB,CAAG,KAAO,CAAAR,SAAS,EAAK,CAC7C,GAAI,CACFnE,UAAU,CAAC,IAAI,CAAC,CAChB,KAAM,CAAAY,MAAM,CAAG,KAAM,CAAAtB,WAAW,CAAC6E,SAAS,CAAC,CAE3C,GAAIvD,MAAM,EAAIA,MAAM,CAACgE,SAAS,CAAE,CAC9B9E,WAAW,CAACoC,YAAY,EAAI,CAC1B,KAAM,CAAAC,eAAe,CAAG,CAAC,GAAGD,YAAY,CAAC,CACzC,KAAM,CAAAI,KAAK,CAAGH,eAAe,CAACI,SAAS,CAACC,CAAC,EAAIA,CAAC,CAACvB,EAAE,GAAKkD,SAAS,CAAC,CAChE,GAAI7B,KAAK,GAAK,CAAC,CAAC,CAAE,CAChBH,eAAe,CAACG,KAAK,CAAC,CAAG,CACvB,GAAGH,eAAe,CAACG,KAAK,CAAC,CACzBsC,SAAS,CAAEhE,MAAM,CAACgE,SACpB,CAAC,CACH,CACA,MAAO,CAAAzC,eAAe,CACxB,CAAC,CAAC,CAEFH,KAAK,CAAC,qBAAqB,CAAC,CAC9B,CACF,CAAE,MAAO/B,KAAK,CAAE,KAAA4E,gBAAA,CAAAC,qBAAA,CACdlD,OAAO,CAAC3B,KAAK,CAAC,YAAY,CAAEA,KAAK,CAAC,CAClC+B,KAAK,CAAC,EAAA6C,gBAAA,CAAA5E,KAAK,CAAC0C,QAAQ,UAAAkC,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBjC,IAAI,UAAAkC,qBAAA,iBAApBA,qBAAA,CAAsB7E,KAAK,GAAI,sBAAsB,CAAC,CAC9D,CAAC,OAAS,CACRD,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,GAAID,OAAO,CAAE,mBAAON,IAAA,CAACF,cAAc,EAACsC,OAAO,CAAC,oEAAkB,CAAE,CAAC,CACjE,GAAI5B,KAAK,CAAE,mBAAOR,IAAA,QAAKsF,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAE/E,KAAK,CAAM,CAAC,CAE9D,mBACEN,KAAA,QAAKoF,SAAS,CAAC,8BAA8B,CAAAC,QAAA,eAC3CrF,KAAA,OAAAqF,QAAA,EAAI,mCAAQ,CAACnF,QAAQ,CAACkC,MAAM,CAAC,GAAC,EAAI,CAAC,cAEnCtC,IAAA,QAAKsF,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3BrF,KAAA,QAAKoF,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC9BvF,IAAA,WACEsF,SAAS,CAAC,aAAa,CACvBE,OAAO,CAAEnD,iBAAkB,CAC3BoD,QAAQ,CAAE/E,gBAAgB,CAAC4B,MAAM,GAAK,CAAE,CAAAiD,QAAA,CACzC,uCAED,CAAQ,CAAC,cACTvF,IAAA,WACEsF,SAAS,CAAC,eAAe,CACzBE,OAAO,CAAEpC,uBAAwB,CACjCqC,QAAQ,CAAE/E,gBAAgB,CAAC4B,MAAM,GAAK,CAAE,CAAAiD,QAAA,CACzC,mDAED,CAAQ,CAAC,EACN,CAAC,CACH,CAAC,cAENvF,IAAA,QAAKsF,SAAS,CAAC,0BAA0B,CAAAC,QAAA,cACvCrF,KAAA,UAAOoF,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC/BvF,IAAA,UAAAuF,QAAA,cACErF,KAAA,OAAAqF,QAAA,eACEvF,IAAA,OAAAuF,QAAA,cAAIvF,IAAA,UACFuD,IAAI,CAAC,UAAU,CACfmC,QAAQ,CAAGC,CAAC,EAAK,CACf,GAAIA,CAAC,CAACC,MAAM,CAACC,OAAO,CAAE,CACpBlF,mBAAmB,CAACP,QAAQ,CAACkB,GAAG,CAACyB,CAAC,EAAIA,CAAC,CAACvB,EAAE,CAAC,CAAC,CAC9C,CAAC,IAAM,CACLb,mBAAmB,CAAC,EAAE,CAAC,CACzB,CACF,CAAE,CACFkF,OAAO,CAAEnF,gBAAgB,CAAC4B,MAAM,GAAKlC,QAAQ,CAACkC,MAAO,CACtD,CAAC,CAAI,CAAC,cACPtC,IAAA,OAAAuF,QAAA,CAAI,oBAAG,CAAI,CAAC,cACZvF,IAAA,OAAAuF,QAAA,CAAI,oBAAG,CAAI,CAAC,cACZvF,IAAA,OAAAuF,QAAA,CAAI,cAAE,CAAI,CAAC,cACXvF,IAAA,OAAAuF,QAAA,CAAI,oBAAG,CAAI,CAAC,cACZvF,IAAA,OAAAuF,QAAA,CAAI,oBAAG,CAAI,CAAC,cACZvF,IAAA,OAAAuF,QAAA,CAAI,oBAAG,CAAI,CAAC,cACZvF,IAAA,OAAAuF,QAAA,CAAI,oBAAG,CAAI,CAAC,cACZvF,IAAA,OAAAuF,QAAA,CAAI,uCAAO,CAAI,CAAC,cAChBvF,IAAA,OAAAuF,QAAA,CAAI,KAAG,CAAI,CAAC,cACZvF,IAAA,OAAAuF,QAAA,CAAI,cAAE,CAAI,CAAC,EACT,CAAC,CACA,CAAC,cACRvF,IAAA,UAAAuF,QAAA,CACGnF,QAAQ,CAACkB,GAAG,CAACC,OAAO,OAAAuE,cAAA,CAAAC,qBAAA,CAAAC,qBAAA,oBACnB9F,KAAA,OAAqBoF,SAAS,CAAE5E,gBAAgB,CAACkE,QAAQ,CAACrD,OAAO,CAACC,EAAE,CAAC,CAAG,UAAU,CAAG,EAAG,CAAA+D,QAAA,eACtFvF,IAAA,OAAAuF,QAAA,cACEvF,IAAA,UACEuD,IAAI,CAAC,UAAU,CACfsC,OAAO,CAAEnF,gBAAgB,CAACkE,QAAQ,CAACrD,OAAO,CAACC,EAAE,CAAE,CAC/CkE,QAAQ,CAAEA,CAAA,GAAMjB,mBAAmB,CAAClD,OAAO,CAACC,EAAE,CAAE,CACjD,CAAC,CACA,CAAC,cACLxB,IAAA,OAAAuF,QAAA,cACEvF,IAAA,QACEiG,GAAG,CAAE1E,OAAO,CAACK,SAAU,CACvBsE,GAAG,CAAE3E,OAAO,CAACG,KAAM,CACnB4D,SAAS,CAAC,mBAAmB,CAC9B,CAAC,CACA,CAAC,cACLtF,IAAA,OAAAuF,QAAA,CAAKhE,OAAO,CAACG,KAAK,CAAK,CAAC,cACxBxB,KAAA,OAAAqF,QAAA,GAAAO,cAAA,CAAKvE,OAAO,CAACO,KAAK,UAAAgE,cAAA,iBAAbA,cAAA,CAAeK,cAAc,CAAC,CAAC,CAAC,QAAC,EAAI,CAAC,cAC3CnG,IAAA,OAAAuF,QAAA,CAAKhE,OAAO,CAAC6E,SAAS,CAAK,CAAC,cAC5BpG,IAAA,OAAAuF,QAAA,EAAAQ,qBAAA,CAAKxE,OAAO,CAACU,YAAY,UAAA8D,qBAAA,iBAApBA,qBAAA,CAAsBI,cAAc,CAAC,CAAC,CAAK,CAAC,cACjDnG,IAAA,OAAAuF,QAAA,EAAAS,qBAAA,CAAKzE,OAAO,CAACW,cAAc,UAAA8D,qBAAA,iBAAtBA,qBAAA,CAAwBG,cAAc,CAAC,CAAC,CAAK,CAAC,cACnDnG,IAAA,OAAAuF,QAAA,CAAK,GAAI,CAAAtB,IAAI,CAAC1C,OAAO,CAAC0D,eAAe,CAAC,CAACoB,kBAAkB,CAAC,CAAC,CAAK,CAAC,cACjErG,IAAA,OAAAuF,QAAA,CACGhE,OAAO,CAACuD,WAAW,cAClB9E,IAAA,SAAMsF,SAAS,CAAC,SAAS,CAAAC,QAAA,CAAC,0BAAI,CAAM,CAAC,cAErCvF,IAAA,SAAMsF,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,oBAAG,CAAM,CACtC,CACC,CAAC,cACLvF,IAAA,OAAAuF,QAAA,CACGhE,OAAO,CAAC4D,SAAS,cAChBnF,IAAA,SAAMsF,SAAS,CAAC,UAAU,CAAAC,QAAA,CAAC,cAAE,CAAM,CAAC,cAEpCvF,IAAA,WACEwF,OAAO,CAAEA,CAAA,GAAMN,iBAAiB,CAAC3D,OAAO,CAACC,EAAE,CAAE,CAC7C8D,SAAS,CAAC,YAAY,CAAAC,QAAA,CACvB,iBAED,CAAQ,CACT,CACC,CAAC,cACLvF,IAAA,OAAAuF,QAAA,cACEvF,IAAA,MACE+D,IAAI,CAAExC,OAAO,CAAC+E,WAAY,CAC1BV,MAAM,CAAC,QAAQ,CACfW,GAAG,CAAC,qBAAqB,CACzBjB,SAAS,CAAC,aAAa,CAAAC,QAAA,CACxB,cAED,CAAG,CAAC,CACF,CAAC,GAjDEhE,OAAO,CAACC,EAkDb,CAAC,EACN,CAAC,CACG,CAAC,EACH,CAAC,CACL,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAArB,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}